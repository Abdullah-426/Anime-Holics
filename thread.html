<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime-Holics</title>
    <link rel="stylesheet" href="/css/style2.css">
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <script src="https://kit.fontawesome.com/2abfb0e6dc.js" crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <h1 class="HEAD"><span><a href="index.html">Anime-Holics</a></span></h1>
        <div class="navbar">
            <nav class="navigation">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="/index.html"><i class="fa-solid fa-house"></i>Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="/about.html"><i class="fa-solid fa-circle-info"></i>About</a>
                    </li>
                    <li class="nav-item">
                        <a href="/contact.html"><i class="fa-solid fa-id-badge"></i>Contact</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <div class="header">
            <!-- <h3 class="title">
                <i class="fa-solid fa-circle-nodes"></i>
                Post Heading
            </h3>
            <div class="th-description">
                <i class="fa-solid fa-chevron-right"></i>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae asperiores explicabo quos laborum
                modi at odio nulla sapiente, repellendus impedit, corrupti nostrum nisi consequuntur. Aspernatur,
                eveniet dolor fuga tenetur nemo iusto temporibus consectetur explicabo velit repellat adipisci, animi
                alias eligendi rem natus beatae placeat facilis reiciendis unde, rerum sunt aliquid voluptatibus officia
                veritatis. Debitis laboriosam fugit ipsum facere voluptates rem, modi tenetur animi dolores laborum
                consequatur nemo quas corporis distinctio et est expedita natus ea iure a culpa enim porro cum! Facilis
                blanditiis quia harum excepturi soluta. Earum excepturi neque magni culpa dolores eligendi nulla ipsum,
                accusamus repellat quis voluptatibus consectetur tempore unde exercitationem autem? Accusantium,
                nesciunt adipisci, voluptatibus labore eos aut porro similique assumenda qui officiis suscipit quidem
                unde, commodi voluptatem eum earum nemo pariatur delectus obcaecati sapiente soluta. Tempora nihil
                inventore eos voluptatibus fuga, odit sequi ad pariatur minus reiciendis culpa rem assumenda eum iusto
                asperiores quia consequatur ipsam minima labore hic magni? Incidunt, dolor. Vel alias consectetur
                obcaecati expedita magni eaque aspernatur deserunt sed sunt maxime! Quos repellat error saepe modi ut
                hic. At unde voluptates neque. Doloremque quam maiores debitis aperiam nulla. Libero amet nihil dolor
                fuga ab autem magni minima animi architecto, ipsam aspernatur eveniet tempore, enim eaque eum ad
                sapiente facilis similique obcaecati accusamus esse sequi aut quo? Optio dolorem rerum architecto
                suscipit, praesentium assumenda numquam? Modi ea dignissimos autem dolor accusamus temporibus odio
                commodi necessitatibus libero omnis aperiam nemo vero voluptate, a repellendus ratione est
                exercitationem ut nesciunt harum. Autem eum quae alias voluptas assumenda illo asperiores repudiandae
                quaerat quasi ipsa vero nobis facere nemo sed numquam voluptatum, amet debitis nisi, adipisci provident
                a dolores delectus! Doloremque, est incidunt! Explicabo, reprehenderit dolorum perferendis et at
                consequuntur soluta magni? Error, dignissimos obcaecati illum, mollitia quis saepe recusandae tempora
                voluptatum, quos sit iste odio suscipit provident voluptatem iure velit ipsam explicabo eligendi
                repellendus. Distinctio deleniti, consequuntur aliquid perspiciatis, laudantium placeat veritatis cumque
                assumenda ex quas praesentium voluptates quidem sed dolore amet est sint soluta dicta in molestias
                blanditiis. Voluptate rem vel iure provident ducimus aperiam. Quo animi reiciendis omnis adipisci odit
                voluptate aliquam a. Necessitatibus eius optio asperiores, dignissimos omnis soluta iste laborum tenetur
                labore esse ullam doloremque, iure repellendus sapiente, fugiat ipsum minus porro officiis id. Quas
                laborum quae omnis, dolor iusto corrupti mollitia nobis ipsum modi vero dolores expedita, iste fugit
                quam minus reiciendis, amet pariatur distinctio earum praesentium possimus facilis? Tenetur ad explicabo
                assumenda. Ratione blanditiis quibusdam soluta laborum sunt, porro quo ipsam dolorem nemo provident
                consequatur quasi illum corporis officia dolore adipisci voluptate, aperiam sequi enim ut doloremque
                beatae rem quisquam deleniti! Qui saepe facere dolorem laboriosam quisquam exercitationem quas nobis
                quos. Asperiores, repellendus excepturi incidunt consectetur libero expedita quos! Aliquam iste debitis
                nam, dolore quo fugiat quasi pariatur nobis deserunt animi inventore, vero a modi. Nihil, fugiat
                excepturi suscipit dolorum quasi reiciendis harum maiores in accusantium animi temporibus quo earum
                doloribus architecto distinctio! Et a mollitia perspiciatis odio commodi, repellat dolore numquam quas
                veniam exercitationem minus, in atque quo ipsa!

                <div class="bottom">
                    <p class="author">
                        By User123
                    </p>

                    <pre class="time-date">|  22nd October  |</pre>

                    <p class="comment-no">
                        10 comments
                    </p>
                    <button class="ubutton" type="button" value="upvote"> <img src="/images/icons8-thumbs-up-96.png"
                            alt="upvote" width="15px"></button>
                    <button class="dbutton" type="button" value="upvote"> <img src="/images/icons8-thumbs-down-96.png"
                            alt="upvote" width="15px"></button>
                </div>
            </div> -->
        </div>
        <div class="comment-box">
            <h3 class="comment-header"><i class="fa-solid fa-chevron-right"></i>Comments</h3>
            <textarea name="comment-b" id="comment" cols="30" rows="10" placeholder="Enter Comment"></textarea> <br>
            <button class="Add-com">Add comment</button>
            <div class="comments">
                <!-- sample comments -->
                <!-- <div class="comment">
                    <div class="top-comment">
                        <p class="user">
                            <i class="fa-regular fa-comment"></i>
                            Ronnie
                        </p>
                        <p class="comment-ts">
                            22/10/23
                        </p>
                    </div>
                    <div class="c-content">
                        Comment Content....
                    </div>
                </div>
                <hr>
                <div class="comment">
                    <div class="top-comment">
                        <p class="user">
                            <i class="fa-regular fa-comment"></i>
                            Ronnie
                        </p>
                        <p class="comment-ts">
                            22/10/23
                        </p>
                    </div>
                    <div class="c-content">
                        Comment Content....
                    </div>
                </div>
                <hr> -->
            </div>
        </div>
    </main>
    <script src="/js/main.js"></script>
    <script>
        
        // getting the id from the webpage url 
        let id= window.location.search.slice(1);
        //finding the thread for which the id matches with the id in url
        let thread= threads.find(t => t.id == id);
        console.log(thread)
        let header=document.querySelector('.header');
        let headerHtml=`
            <h3 class="title">
                <i class="fa-solid fa-circle-nodes"></i>
                ${thread.title}
            </h3>
            <div class="th-description">
                <i class="fa-solid fa-chevron-right"></i>
                ${thread.content}
                <div class="bottom">
                    <p class="author">
                        ${thread.author}
                    </p>
                    <p class="seperator">|</p>
                    <p class="time-date">${new Date(thread.date).toLocaleString()}</p>
                    <p class="seperator">|</p>
                    <p class="comment-no">
                        ${thread.comments.length} comments
                    </p>
                    <button class="ubutton" type="button" value="upvote"> <img src="/images/icons8-thumbs-up-96.png"
                            alt="upvote" width="15px"></button>
                    <button class="dbutton" type="button" value="upvote"> <img src="/images/icons8-thumbs-down-96.png"
                            alt="upvote" width="15px"></button>
                </div>
            </div>
        `
        header.insertAdjacentHTML("beforeend",headerHtml);
        
        // adding comments - created a function to use this snippet to add comment from comment box
        function addcomment(comment){
            let commentHtml=`
            <div class="comment">
                <div class="top-comment">
                    <p class="user">
                        <i class="fa-regular fa-comment"></i>
                        ${comment.author}
                    </p>
                    <p class="comment-ts">
                        ${new Date(comment.date).toLocaleString()}
                    </p>
                </div>
                <div class="c-content">
                    ${comment.content}
                </div>
            </div>                
            <hr>
            `
             comments.insertAdjacentHTML("beforeend",commentHtml);
        }

        let comments= document.querySelector('.comments');
        for(let comment of thread.comments){
            addcomment(comment)
        }

        let bttn= document.querySelector(".Add-com");
        bttn.addEventListener('click', function() {
            let txt=document.querySelector('textarea');
            let comment={
                content: txt.value,
                author:"User45",
                date: Date.now(),
            }
            addcomment(comment);
            txt.value=""
            thread.comments.push(comment); //pushing the new comment into the JSON object and then updating in local storage.
            localStorage.setItem('threads',JSON.stringify(threads))
        })
    </script>
</body>

</html>